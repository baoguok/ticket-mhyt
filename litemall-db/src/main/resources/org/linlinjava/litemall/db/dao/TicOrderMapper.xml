<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.linlinjava.litemall.db.dao.TicOrderMapper">
  <resultMap id="BaseResultMap" type="org.linlinjava.litemall.db.domain.TicOrder">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    <id column="ord_id" jdbcType="INTEGER" property="ordId"/>
    <result column="ord_user_id" jdbcType="INTEGER" property="ordUserId"/>
    <result column="ord_order_sn" jdbcType="VARCHAR" property="ordOrderSn"/>
    <result column="ord_order_status" jdbcType="SMALLINT" property="ordOrderStatus"/>
    <result column="ord_tourist" jdbcType="VARCHAR" property="ordTourist"/>
    <result column="ord_mobile" jdbcType="VARCHAR" property="ordMobile"/>
    <result column="ord_ucard_id" jdbcType="VARCHAR" property="ordUcardId"/>
    <result column="ord_goods_price" jdbcType="DECIMAL" property="ordGoodsPrice"/>
    <result column="ord_goods_num" jdbcType="INTEGER" property="ordGoodsNum"/>
    <result column="ord_coupon_id" jdbcType="INTEGER" property="ordCouponId"/>
    <result column="ord_coupon_price" jdbcType="DECIMAL" property="ordCouponPrice"/>
    <result column="ord_order_price" jdbcType="DECIMAL" property="ordOrderPrice"/>
    <result column="ord_actual_price" jdbcType="DECIMAL" property="ordActualPrice"/>
    <result column="ord_pay_id" jdbcType="VARCHAR" property="ordPayId"/>
    <result column="ord_pay_time" jdbcType="TIMESTAMP" property="ordPayTime"/>
    <result column="ord_pay_way" jdbcType="INTEGER" property="ordPayWay"/>
    <result column="ord_admin_id" jdbcType="INTEGER" property="ordAdminId"/>
    <result column="ord_confirm_time" jdbcType="TIMESTAMP" property="ordConfirmTime"/>
    <result column="ord_col_code" jdbcType="VARCHAR" property="ordColCode"/>
    <result column="ord_qr_code" jdbcType="VARCHAR" property="ordQrCode"/>
    <result column="ord_end_time" jdbcType="TIMESTAMP" property="ordEndTime"/>
    <result column="ord_detail" jdbcType="VARCHAR" property="ordDetail"/>
    <result column="ord_cat_id" jdbcType="INTEGER" property="ordCatId"/>
    <result column="ord_comment" jdbcType="INTEGER" property="ordComment"/>
    <result column="ord_add_time" jdbcType="TIMESTAMP" property="ordAddTime"/>
    <result column="ord_update_time" jdbcType="TIMESTAMP" property="ordUpdateTime"/>
    <result column="ord_deleted" jdbcType="BIT" property="ordDeleted"/>
    <result column="ord_park_code" jdbcType="VARCHAR" property="ordParkCode"/>
    <result column="cat_people_num" jdbcType="INTEGER" property="catPeopleNum"/>
  </resultMap>

  <resultMap id="OrderGoodResMap" type="org.linlinjava.litemall.db.response.TicOrderResponse" extends="BaseResultMap">
    <collection property="orderGoodsList" ofType="org.linlinjava.litemall.db.response.TicOrderGoodResponse">
      <id column="org_id" jdbcType="INTEGER" property="orgId"/>
      <result column="org_order_id" jdbcType="INTEGER" property="orgOrderId"/>
      <result column="org_goods_id" jdbcType="INTEGER" property="orgGoodsId"/>
      <result column="org_goods_name" jdbcType="VARCHAR" property="orgGoodsName"/>
      <result column="org_number" jdbcType="SMALLINT" property="orgNumber"/>
      <result column="org_price" jdbcType="DECIMAL" property="orgPrice"/>
      <result column="org_col_code" jdbcType="VARCHAR" property="orgColCode"/>
      <result column="org_view_id" jdbcType="VARCHAR" property="orgViewId"
              typeHandler="org.linlinjava.litemall.db.mybatis.JsonIntegerArrayTypeHandler"/>
      <result column="org_add_time" jdbcType="TIMESTAMP" property="orgAddTime"/>
      <result column="org_update_time" jdbcType="TIMESTAMP" property="orgUpdateTime"/>
      <result column="org_deleted" jdbcType="BIT" property="orgDeleted"/>
      <result column="cat_name" jdbcType="VARCHAR" property="catName"/>
    </collection>
  </resultMap>

  <resultMap id="BaseResultMapCate"
             type="org.linlinjava.litemall.db.response.TicOrderResponse" extends="BaseResultMap">
    <result column="cat_name" jdbcType="VARCHAR" property="cateName"/>
    <result column="cat_desc" jdbcType="VARCHAR" property="catDesc"/>
  </resultMap>

  <resultMap id="BaseMapNum" type="org.linlinjava.litemall.db.response.TicOrderNumResponse" extends="BaseResultMap">
    <result column="cat_name" jdbcType="VARCHAR" property="catName"/>
    <result column="num" jdbcType="INTEGER" property="num"/>
    <result column="actul" jdbcType="VARCHAR" property="actul"/>
    <result column="goo_name" jdbcType="VARCHAR" property="gooName"/>
    <result column="day" jdbcType="INTEGER" property="day"/>
    <result column="cat_people_num" jdbcType="INTEGER" property="catPeopleNum"/>
    <result column="org_goods_name" jdbcType="INTEGER" property="orgGoodsName"/>
  </resultMap>
  <sql id="Example_Where_Clause">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and
                  #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem"
                           open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>

  <select id="selectOneByExample" parameterType="org.linlinjava.litemall.db.domain.TicOrderExample"
          resultMap="BaseResultMap">
    <!-- WARNING - @mbg.generated This element is automatically generated by
      MyBatis Generator, do not modify. @project https://github.com/itfsw/mybatis-generator-plugin -->
    select
    <include refid="Base_Column_List"/>
    from tic_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause"/>
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
    limit 1
  </select>
  <sql id="Update_By_Example_Where_Clause">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria"
               separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and
                  #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem"
                           open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    ord_id, ord_user_id, ord_order_sn, ord_order_status, ord_tourist,
    ord_mobile, ord_ucard_id,
    ord_goods_price, ord_goods_num, ord_coupon_id, ord_coupon_price, ord_order_price,
    ord_actual_price, ord_pay_id, ord_pay_time, ord_pay_way, ord_admin_id,
    ord_confirm_time,
    ord_col_code, ord_qr_code, ord_end_time, ord_detail, ord_cat_id, ord_comment,
    ord_add_time,
    ord_update_time, ord_deleted,ord_park_code
  </sql>
  <select id="selectByExample" parameterType="org.linlinjava.litemall.db.domain.TicOrderExample"
          resultMap="BaseResultMap">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List"/>
    from tic_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause"/>
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer"
          resultMap="BaseResultMap">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    select
    <include refid="Base_Column_List"/>
    from tic_order
    where ord_id = #{ordId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    delete from tic_order
    where ord_id = #{ordId,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="org.linlinjava.litemall.db.domain.TicOrderExample">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    delete from tic_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause"/>
    </if>
  </delete>
  <insert id="insert" parameterType="org.linlinjava.litemall.db.domain.TicOrder">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    <selectKey keyProperty="ordId" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into tic_order (ord_user_id, ord_order_sn,ord_comment,
    ord_cat_id, ord_order_status,
    ord_tourist, ord_mobile, ord_ucard_id,
    ord_goods_price, ord_goods_num, ord_coupon_id, ord_coupon_price,
    ord_order_price, ord_actual_price, ord_pay_id,
    ord_pay_time, ord_pay_way, ord_admin_id,
    ord_confirm_time, ord_col_code, ord_qr_code,
    ord_end_time, ord_detail, ord_add_time,
    ord_update_time, ord_deleted,ord_park_code)
    values (#{ordUserId,jdbcType=INTEGER},
    #{ordOrderSn,jdbcType=VARCHAR},#{ordComment,jdbcType=INTEGER},
    #{ordCatId,jdbcType=INTEGER}, #{ordOrderStatus,jdbcType=SMALLINT},
    #{ordTourist,jdbcType=VARCHAR}, #{ordMobile,jdbcType=VARCHAR},
    #{ordUcardId,jdbcType=VARCHAR},
    #{ordGoodsPrice,jdbcType=DECIMAL}, #{ordGoodsNum,jdbcType=INTEGER},#{ordCouponId,jdbcType=INTEGER},
    #{ordCouponPrice,jdbcType=DECIMAL},
    #{ordOrderPrice,jdbcType=DECIMAL}, #{ordActualPrice,jdbcType=DECIMAL}, #{ordPayId,jdbcType=VARCHAR},
    #{ordPayTime,jdbcType=TIMESTAMP}, #{ordPayWay,jdbcType=INTEGER},
    #{ordAdminId,jdbcType=INTEGER},
    #{ordConfirmTime,jdbcType=TIMESTAMP}, #{ordColCode,jdbcType=VARCHAR}, #{ordQrCode,jdbcType=VARCHAR},
    #{ordEndTime,jdbcType=TIMESTAMP}, #{ordDetail,jdbcType=VARCHAR},
    #{ordAddTime,jdbcType=TIMESTAMP},
    #{ordUpdateTime,jdbcType=TIMESTAMP}, #{ordDeleted,jdbcType=BIT},#{ordParkCode,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="org.linlinjava.litemall.db.domain.TicOrder">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    <selectKey keyProperty="ordId" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into tic_order
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="ordUserId != null">
        ord_user_id,
      </if>
      <if test="ordOrderSn != null">
        ord_order_sn,
      </if>
      <if test="ordOrderStatus != null">
        ord_order_status,
      </if>
      <if test="ordTourist != null">
        ord_tourist,
      </if>
      <if test="ordMobile != null">
        ord_mobile,
      </if>
      <if test="ordUcardId != null">
        ord_ucard_id,
      </if>
      <if test="ordGoodsPrice != null">
        ord_goods_price,
      </if>
      <if test="ordGoodsNum != null">
        ord_goods_num,
      </if>
      <if test="ordCouponId != null">
        ord_coupon_id,
      </if>
      <if test="ordCouponPrice != null">
        ord_coupon_price,
      </if>
      <if test="ordOrderPrice != null">
        ord_order_price,
      </if>
      <if test="ordActualPrice != null">
        ord_actual_price,
      </if>
      <if test="ordPayId != null">
        ord_pay_id,
      </if>
      <if test="ordPayTime != null">
        ord_pay_time,
      </if>
      <if test="ordPayWay != null">
        ord_pay_way,
      </if>
      <if test="ordAdminId != null">
        ord_admin_id,
      </if>
      <if test="ordConfirmTime != null">
        ord_confirm_time,
      </if>
      <if test="ordColCode != null">
        ord_col_code,
      </if>
      <if test="ordQrCode != null">
        ord_qr_code,
      </if>
      <if test="ordEndTime != null">
        ord_end_time,
      </if>
      <if test="ordDetail != null">
        ord_detail,
      </if>
      <if test="ordCatId != null">
        ord_cat_id,
      </if>
      <if test="ordComment != null">
        ord_comment,
      </if>
      <if test="ordAddTime != null">
        ord_add_time,
      </if>
      <if test="ordUpdateTime != null">
        ord_update_time,
      </if>
      <if test="ordDeleted != null">
        ord_deleted,
      </if>
      <if test="ordParkCode != null">
        ord_park_code,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="ordUserId != null">
        #{ordUserId,jdbcType=INTEGER},
      </if>
      <if test="ordOrderSn != null">
        #{ordOrderSn,jdbcType=VARCHAR},
      </if>
      <if test="ordOrderStatus != null">
        #{ordOrderStatus,jdbcType=SMALLINT},
      </if>
      <if test="ordTourist != null">
        #{ordTourist,jdbcType=VARCHAR},
      </if>
      <if test="ordMobile != null">
        #{ordMobile,jdbcType=VARCHAR},
      </if>
      <if test="ordUcardId != null">
        #{ordUcardId,jdbcType=VARCHAR},
      </if>
      <if test="ordGoodsPrice != null">
        #{ordGoodsPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordGoodsNum != null">
        #{ordGoodsNum,jdbcType=INTEGER},
      </if>
      <if test="ordCouponId != null">
        #{ordCouponId,jdbcType=INTEGER},
      </if>
      <if test="ordCouponPrice != null">
        #{ordCouponPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordOrderPrice != null">
        #{ordOrderPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordActualPrice != null">
        #{ordActualPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordPayId != null">
        #{ordPayId,jdbcType=VARCHAR},
      </if>
      <if test="ordPayTime != null">
        #{ordPayTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordPayWay != null">
        #{ordPayWay,jdbcType=INTEGER},
      </if>
      <if test="ordAdminId != null">
        #{ordAdminId,jdbcType=INTEGER},
      </if>
      <if test="ordConfirmTime != null">
        #{ordConfirmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordColCode != null">
        #{ordColCode,jdbcType=VARCHAR},
      </if>
      <if test="ordQrCode != null">
        #{ordQrCode,jdbcType=VARCHAR},
      </if>
      <if test="ordEndTime != null">
        #{ordEndTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordDetail != null">
        #{ordDetail,jdbcType=VARCHAR},
      </if>
      <if test="ordCatId != null">
        #{ordCatId,jdbcType=INTEGER},
      </if>
      <if test="ordComment != null">
        #{ordComment,jdbcType=INTEGER},
      </if>
      <if test="ordAddTime != null">
        #{ordAddTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordUpdateTime != null">
        #{ordUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordDeleted != null">
        #{ordDeleted,jdbcType=BIT},
      </if>
      <if test="ordParkCode != null">
        #{ordParkCode,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="org.linlinjava.litemall.db.domain.TicOrderExample"
          resultType="java.lang.Integer">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    select count(*) from tic_order
    <if test="_parameter != null">
      <include refid="Example_Where_Clause"/>
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    update tic_order
    <set>
      <if test="record.ordId != null">
        ord_id = #{record.ordId,jdbcType=INTEGER},
      </if>
      <if test="record.ordUserId != null">
        ord_user_id = #{record.ordUserId,jdbcType=INTEGER},
      </if>
      <if test="record.ordOrderSn != null">
        ord_order_sn = #{record.ordOrderSn,jdbcType=VARCHAR},
      </if>
      <if test="record.ordComment != null">
        ord_comment = #{record.ordComment,jdbcType=INTEGER},
      </if>
      <if test="record.ordCatId != null">
        ord_cat_id = #{record.ordCatId,jdbcType=INTEGER},
      </if>
      <if test="record.ordOrderStatus != null">
        ord_order_status = #{record.ordOrderStatus,jdbcType=SMALLINT},
      </if>
      <if test="record.ordTourist != null">
        ord_tourist = #{record.ordTourist,jdbcType=VARCHAR},
      </if>
      <if test="record.ordMobile != null">
        ord_mobile = #{record.ordMobile,jdbcType=VARCHAR},
      </if>
      <if test="record.ordUcardId != null">
        ord_ucard_id = #{record.ordUcardId,jdbcType=VARCHAR},
      </if>
      <if test="record.ordGoodsPrice != null">
        ord_goods_price = #{record.ordGoodsPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.ordGoodsNum != null">
        ord_goods_num = #{record.ordGoodsNum,jdbcType=INTEGER},
      </if>
      <if test="record.ordCouponId != null">
        ord_coupon_id = #{record.ordCouponId,jdbcType=INTEGER},
      </if>
      <if test="record.ordCouponPrice != null">
        ord_coupon_price = #{record.ordCouponPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.ordOrderPrice != null">
        ord_order_price = #{record.ordOrderPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.ordActualPrice != null">
        ord_actual_price = #{record.ordActualPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.ordPayId != null">
        ord_pay_id = #{record.ordPayId,jdbcType=VARCHAR},
      </if>
      <if test="record.ordPayTime != null">
        ord_pay_time = #{record.ordPayTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.ordPayWay != null">
        ord_pay_way = #{record.ordPayWay,jdbcType=INTEGER},
      </if>
      <if test="record.ordAdminId != null">
        ord_admin_id = #{record.ordAdminId,jdbcType=INTEGER},
      </if>
      <if test="record.ordConfirmTime != null">
        ord_confirm_time = #{record.ordConfirmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.ordColCode != null">
        ord_col_code = #{record.ordColCode,jdbcType=VARCHAR},
      </if>
      <if test="record.ordQrCode != null">
        ord_qr_code = #{record.ordQrCode,jdbcType=VARCHAR},
      </if>
      <if test="record.ordEndTime != null">
        ord_end_time = #{record.ordEndTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.ordDetail != null">
        ord_detail = #{record.ordDetail,jdbcType=VARCHAR},
      </if>
      <if test="record.ordAddTime != null">
        ord_add_time = #{record.ordAddTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.ordUpdateTime != null">
        ord_update_time = #{record.ordUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.ordDeleted != null">
        ord_deleted = #{record.ordDeleted,jdbcType=BIT},
      </if>
      <if test="ordParkCode != null">
        ord_park_code = #{ordParkCode,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause"/>
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    update tic_order
    set ord_id = #{record.ordId,jdbcType=INTEGER},
    ord_user_id = #{record.ordUserId,jdbcType=INTEGER},
    ord_order_sn = #{record.ordOrderSn,jdbcType=VARCHAR},
    ord_comment = #{record.ordComment,jdbcType=INTEGER},
    ord_cat_id = #{record.ordCatId,jdbcType=INTEGER}
    ord_order_status = #{record.ordOrderStatus,jdbcType=SMALLINT},
    ord_tourist = #{record.ordTourist,jdbcType=VARCHAR},
    ord_mobile = #{record.ordMobile,jdbcType=VARCHAR},
    ord_ucard_id = #{record.ordUcardId,jdbcType=VARCHAR},
    ord_goods_price = #{record.ordGoodsPrice,jdbcType=DECIMAL},
    ord_goods_num = #{record.ordGoodsNum,jdbcType=INTEGER},
    ord_coupon_id = #{record.ordCouponId,jdbcType=INTEGER},
    ord_coupon_price = #{record.ordCouponPrice,jdbcType=DECIMAL},
    ord_order_price = #{record.ordOrderPrice,jdbcType=DECIMAL},
    ord_actual_price = #{record.ordActualPrice,jdbcType=DECIMAL},
    ord_pay_id = #{record.ordPayId,jdbcType=VARCHAR},
    ord_pay_time = #{record.ordPayTime,jdbcType=TIMESTAMP},
    ord_pay_way = #{record.ordPayWay,jdbcType=INTEGER},
    ord_admin_id = #{record.ordAdminId,jdbcType=INTEGER},
    ord_confirm_time = #{record.ordConfirmTime,jdbcType=TIMESTAMP},
    ord_col_code = #{record.ordColCode,jdbcType=VARCHAR},
    ord_qr_code = #{record.ordQrCode,jdbcType=VARCHAR},
    ord_end_time = #{record.ordEndTime,jdbcType=TIMESTAMP},
    ord_detail = #{record.ordDetail,jdbcType=VARCHAR},
    ord_add_time = #{record.ordAddTime,jdbcType=TIMESTAMP},
    ord_update_time = #{record.ordUpdateTime,jdbcType=TIMESTAMP},
    ord_deleted = #{record.ordDeleted,jdbcType=BIT},
    ord_park_code = #{ordParkCode,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause"/>
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="org.linlinjava.litemall.db.domain.TicOrder">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    update tic_order
    <set>
      <if test="ordUserId != null">
        ord_user_id = #{ordUserId,jdbcType=INTEGER},
      </if>
      <if test="ordOrderSn != null">
        ord_order_sn = #{ordOrderSn,jdbcType=VARCHAR},
      </if>
      <if test="ordComment != null">
        ord_comment = #{ordComment,jdbcType=INTEGER},
      </if>
      <if test="ordCatId != null">
        ord_cat_id = #{ordCatId,jdbcType=VARCHAR},
      </if>
      <if test="ordOrderStatus != null">
        ord_order_status = #{ordOrderStatus,jdbcType=SMALLINT},
      </if>
      <if test="ordTourist != null">
        ord_tourist = #{ordTourist,jdbcType=VARCHAR},
      </if>
      <if test="ordMobile != null">
        ord_mobile = #{ordMobile,jdbcType=VARCHAR},
      </if>
      <if test="ordUcardId != null">
        ord_ucard_id = #{ordUcardId,jdbcType=VARCHAR},
      </if>
      <if test="ordGoodsPrice != null">
        ord_goods_price = #{ordGoodsPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordGoodsNum != null">
        ord_goods_num = #{ordGoodsNum,jdbcType=INTEGER},
      </if>
      <if test="ordCouponId != null">
        ord_coupon_id = #{ordCouponId,jdbcType=INTEGER},
      </if>
      <if test="ordCouponPrice != null">
        ord_coupon_price = #{ordCouponPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordOrderPrice != null">
        ord_order_price = #{ordOrderPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordActualPrice != null">
        ord_actual_price = #{ordActualPrice,jdbcType=DECIMAL},
      </if>
      <if test="ordPayId != null">
        ord_pay_id = #{ordPayId,jdbcType=VARCHAR},
      </if>
      <if test="ordPayTime != null">
        ord_pay_time = #{ordPayTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordPayWay != null">
        ord_pay_way = #{ordPayWay,jdbcType=INTEGER},
      </if>
      <if test="ordAdminId != null">
        ord_admin_id = #{ordAdminId,jdbcType=INTEGER},
      </if>
      <if test="ordConfirmTime != null">
        ord_confirm_time = #{ordConfirmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordColCode != null">
        ord_col_code = #{ordColCode,jdbcType=VARCHAR},
      </if>
      <if test="ordQrCode != null">
        ord_qr_code = #{ordQrCode,jdbcType=VARCHAR},
      </if>
      <if test="ordEndTime != null">
        ord_end_time = #{ordEndTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordDetail != null">
        ord_detail = #{ordDetail,jdbcType=VARCHAR},
      </if>
      <if test="ordAddTime != null">
        ord_add_time = #{ordAddTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordUpdateTime != null">
        ord_update_time = #{ordUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="ordDeleted != null">
        ord_deleted = #{ordDeleted,jdbcType=BIT},
      </if>
      <if test="ordParkCode != null">
        ord_park_code = #{ordParkCode,jdbcType=VARCHAR},
      </if>
    </set>
    where ord_id = #{ordId,jdbcType=INTEGER}

  </update>
  <update id="updateByPrimaryKey" parameterType="org.linlinjava.litemall.db.domain.TicOrder">
    <!-- WARNING - @mbggenerated This element is automatically generated by
      MyBatis Generator, do not modify. -->
    update tic_order
    set ord_user_id = #{ordUserId,jdbcType=INTEGER},
    ord_order_sn = #{ordOrderSn,jdbcType=VARCHAR},
    ord_comment = #{ordComment,jdbcType=INTEGER},
    ord_cat_id = #{ordCatId,jdbcType=INTEGER},
    ord_order_status = #{ordOrderStatus,jdbcType=SMALLINT},
    ord_tourist = #{ordTourist,jdbcType=VARCHAR},
    ord_mobile = #{ordMobile,jdbcType=VARCHAR},
    ord_ucard_id = #{ordUcardId,jdbcType=VARCHAR},
    ord_goods_price = #{ordGoodsPrice,jdbcType=DECIMAL},
    ord_goods_num = #{ordGoodsNum,jdbcType=INTEGER},
    ord_coupon_id = #{ordCouponId,jdbcType=INTEGER},
    ord_coupon_price = #{ordCouponPrice,jdbcType=DECIMAL},
    ord_order_price = #{ordOrderPrice,jdbcType=DECIMAL},
    ord_actual_price = #{ordActualPrice,jdbcType=DECIMAL},
    ord_pay_id = #{ordPayId,jdbcType=VARCHAR},
    ord_pay_time = #{ordPayTime,jdbcType=TIMESTAMP},
    ord_pay_way = #{ordPayWay,jdbcType=INTEGER},
    ord_admin_id = #{ordAdminId,jdbcType=INTEGER},
    ord_confirm_time = #{ordConfirmTime,jdbcType=TIMESTAMP},
    ord_col_code = #{ordColCode,jdbcType=VARCHAR},
    ord_qr_code = #{ordQrCode,jdbcType=VARCHAR},
    ord_end_time = #{ordEndTime,jdbcType=TIMESTAMP},
    ord_detail = #{ordDetail,jdbcType=VARCHAR},
    ord_add_time = #{ordAddTime,jdbcType=TIMESTAMP},
    ord_update_time = #{ordUpdateTime,jdbcType=TIMESTAMP},
    ord_deleted = #{ordDeleted,jdbcType=BIT},
    ord_park_code = #{ordParkCode,jdbcType=VARCHAR}
    where ord_id = #{ordId,jdbcType=INTEGER}
  </update>

  <update id="logicalDeleteByPrimaryKey" parameterType="java.lang.Integer">
    <!-- WARNING - @mbg.generated This element is automatically generated by
      MyBatis Generator, do not modify. @project https://github.com/itfsw/mybatis-generator-plugin -->
    update tic_order set ord_deleted = 1
    where ord_id = #{id,jdbcType=INTEGER}
  </update>
  <select id="listOrder" parameterType="org.linlinjava.litemall.db.request.TicOrderRequest"
          resultMap="BaseResultMapCate">
    SELECT
    ord.*,cate.*
    FROM
    tic_order as ord left join
    tic_category as cate on ord.ord_cat_id = cate.cat_id
    WHERE
    ord_user_id = #{ordUserId,jdbcType=INTEGER}
    <foreach collection="lsit" index="index" item="item" open="and"
             separator="or" close="">
      ord_order_status = #{ item ,jdbcType=SMALLINT }
    </foreach>
    and ord.ord_deleted = 0
    GROUP BY ord.ord_id
    <if test="page != null and limit != null">
      limit #{page},#{limit}
    </if>
  </select>
  <select id="details" resultType="java.lang.Integer" resultMap="BaseResultMapCate">
		SELECT
		ord.*,cate.*
		FROM
		tic_order as ord left join
		tic_category as cate on ord.ord_cat_id = cate.cat_id
		WHERE
		ord_id = #{ordId,jdbcType=INTEGER}
	</select>

  <!-- 修改已过期的门票 -->
  <select id="BeOverdue">
		update tic_order set ord_order_status = '103'
		where DATE_ADD(now(),interval -30 minute) &gt; ord_add_time
		and (ord_order_status = 101 or ord_order_status = 201)
	</select>

  <select id="UserDetails" resultType="map" resultMap="BaseResultMapCate">
    select * from tic_order as ord left join
    tic_category as cate on ord.ord_cat_id = cate.cat_id
    WHERE
    <if test="ucardid != null">
      ord_ucard_id = #{ucardid,jdbcType=VARCHAR}
    </if>
    <if test="mobile != null">
      ord_mobile = #{mobile,jdbcType=VARCHAR}
    </if>
    <if test="colcode != null">
      ord_col_code = #{colcode,jdbcType=VARCHAR}
    </if>
    <if test="ordParkCode != null">
      and ord_park_code = #{ordParkCode,jdbcType=VARCHAR}
    </if>
    and ord_order_status = 201
  </select>

  <!-- 修改订单状态 -->
  <update id="updateOrderStatus" parameterType="java.lang.String">
		update tic_order
		set ord_order_status = #{record.ordOrderStatus,jdbcType=SMALLINT}
		where ord_order_sn = #{orderSn,jdbcType=VARCHAR}
	</update>

  <!-- 查询订单和订单门票信息 -->
  <select id="orderGoodList" resultMap="OrderGoodResMap" parameterType="org.linlinjava.litemall.db.domain.TicOrder">
    SELECT ord.*,org.*,cate.cat_name, cate.cat_people_num
    FROM tic_order ord
    left join tic_order_goods org ON ord.ord_id = org.org_order_id
    left join tic_category cate on ord.ord_cat_id = cate.cat_id
    WHERE ord.ord_deleted = 0
    <if test="ordMobile != null">
      and ord_mobile = #{ordMobile,jdbcType=VARCHAR}
    </if>
    <if test="ordColCode != null">
      and ord_col_code = #{ordColCode,jdbcType=VARCHAR}
    </if>
    <if test="ordUcardId != null">
      and ord_ucard_id = #{ordUcardId,jdbcType=VARCHAR}
    </if>
    <if test="ordId != null">
      and ord_id = #{ordId,jdbcType=INTEGER}
    </if>
    <if test="ordParkCode != null">
      and ord_park_code = #{ordParkCode,jdbcType=VARCHAR}
    </if>
    <if test="ordOrderStatus != null">
      and ord_order_status = #{ordOrderStatus,jdbcType=SMALLINT}
    </if>
  </select>

  <!-- 当日售票信息	-->
  <select id="ticNumber" resultMap="BaseMapNum" parameterType="map">
    SELECT ord.ord_id, cate.cat_name,good.goo_name,ord.ord_add_time,admin.username,
    ord.ord_goods_num,ord.ord_actual_price,ord.ord_pay_way,cate.cat_people_num,ord.ord_coupon_price
    FROM  tic_order as ord,tic_category as cate,tic_goods as good,litemall_admin as admin
    WHERE  ord.ord_cat_id = cate.cat_id
          and cate.cat_id = good.goo_cat_id
          and ord.ord_admin_id = admin.id
          and DATEDIFF(ord_add_time,NOW())=0
          and ord.ord_order_status = 301
    <if test="ordPayWay != null">
      and ord_pay_way = #{ordPayWay,jdbcType=INTEGER}
    </if>
    <if test="ordAdminId != null">
      and ord_admin_id  = #{ordAdminId ,jdbcType=INTEGER}
    </if>
    GROUP BY ord_id order by ord_id desc
  </select>

  <!--查询所有售票员售票信息-->
  <select id="ticNumberAll" resultMap="BaseMapNum" parameterType="map">
    SELECT
    cate.cat_name,
    cate.cat_people_num,
    org.org_goods_name,
    admin.username,
    ord.ord_add_time,
    count( org.org_id ) AS num,
    sum( org.org_price )/cate.cat_people_num AS actul
    FROM tic_order_goods AS org
    LEFT JOIN tic_order AS ord ON org.org_order_id = ord.ord_id
    LEFT JOIN tic_category AS cate ON ord.ord_cat_id = cate.cat_id
    LEFT JOIN litemall_admin AS admin ON ord.ord_admin_id = admin.id
    WHERE ord_order_status = 301
    <if test="ordAdminId != null">
      and ord.ord_admin_id  = #{ordAdminId,jdbcType=INTEGER}
    </if>
    <if test="ordPayWay != null">
      and ord.ord_pay_way = #{ordPayWay,jdbcType=INTEGER}
    </if>
    <if test="day != null">
      and DATEDIFF(ord.ord_add_time,NOW()) = #{day,jdbcType=INTEGER}
    </if>
    GROUP BY org_goods_id
  </select>
</mapper>